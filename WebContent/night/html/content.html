<link rel="stylesheet" type="text/css" media="all"
	href="night/prettyPhoto/css/prettyPhoto.css">
<link rel="stylesheet" type="text/css" media="all"
	href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/ui-lightness/jquery-ui.css">

<div id="main_image">
	<div id="main_image_container" style="margin-left: 0px">
		<img id="image_0" class="main_img"
			src="night/img/nebulosa_tarantula.jpeg" />
	</div>
</div>
<div id="container" ng-controller="InitDevices"
	style="background-image: url(night/img/Template.png); background-size: 940px 744px; background-repeat: no-repeat; height:744px">
	<div ng-controller="FocuserCtrl"
		ng-init="focuserPressed=false;currentFocuserPosition=0">
		<div id="focus_marker" tooltip="{{'night.focuser.tooltip' | i18n}}"
			ng-mousedown="activate_focuser()"
			data-content="{{'night.tutorial.step7' | i18n}}<hr class=&quot;tutorial_line&quot;><div style=&quot;text-align:center&quot;><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;prevTutorial()&quot;><i class=&quot;icon-large icon-step-backward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button><span style=&quot;font-size:1.4em;&quot>7 / 13</span><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;nextTutorial()&quot;><i class=&quot;icon-large icon-step-forward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button></div>"
			data-animation="yes"
			data-trigger="manual"
			data-placement="bottom" 
			data-html="true"
			data-title="<strong><i class=&quot;icon-large icon-info-sign&quot;></i></strong><button type=&quot;button&quot; class=&quot;close close_tutorial&quot; onclick=&quot;$('#focus_marker').popover('hide');&quot;>&times;</button>">
			</div>
		<div id="focus_marker_info"
			ng-style="{opacity: (focuserPressed && '1.0') || '0.0'}">
			<br>
			<table>
				<tr>
					<td><label for="focuserPosition">Current Position:</label></td>
					<td><span id="focuserPosition"
						style="border: 0; color: #f6931f; font-weight: bold;">0</span></td>
				</tr>
			</table>
			<br>
			<div id="focuser_slider"></div>
			<br>
			<div style="float: right">
				<button class="button_style" ng-click="set_focuser()">SET</button>
				<button class="button_style" ng-click="cancel()">CANCEL</button>
			</div>

		</div>
	</div>
	<button class="btn btn-info" style="float:right;margin-top:105px;padding-left:2em;padding-right:2em" 
				ng-click="activateTutorial()" tooltip-popup-delay="500" 
				tooltip="{{'night.reservation.video_tutorials_tooltip'|i18n}}" tooltip-placement="top" 
				ng-style="{'opacity': tutorial_activated ? 1 : 0.5}">
				 	{{'night.reservation.video_tutorials'|i18n}}
	 </button>
		<div id="gloria_info">
		<span class="title_info">GLORIA</span> <span class="regular_info">Info</span>
		<div id="weather_station" ng-controller="WeatherDevice" ng-init="weather_alarm=false"
			style="width: 400px; margin-top: -5px; margin-left: 100px">
			<div class="modal hide fade" id="WeatherAlarmModal">
				<div class="modal-header">
					<h3>{{'night.weather.alert' | i18n}}</h3>
				</div>
				<div class="modal-body">
					<span class="regular_text">{{'night.weather.alarm_text' | i18n}}</span>
				</div>
				<div class="modal-footer">
					<button class="btn btn-warning" data-dismiss="modal"
							ng-click="">{{'night.mount.close' | i18n}}</button>
				</div>
			</div>
			<div style="float: left; display: inline-block; width: 33%">
				<table>
					<tr>
						<td style="text-align: center"><img height="24px"
							width="24px" src="night/img/humidity.png" /></td>
					</tr>
					<tr>
						<td><div ng-style="{'color': humidity_alarm ? 'red' : 'silver'}" id="humidity">--- % RH</div></td>
					</tr>
				</table>
			</div>
			<div style="float: left; display: inline-block; width: 33%">
				<table>
					<tr>
						<td style="text-align: center"><img height="24px"
							width="24px" src="night/img/wind.png" /></td>
					</tr>
					<tr>
						<td><div ng-style="{'color': wind_alarm ? 'red' : 'silver'}" id="velocity">--- m/s</div></td>
					</tr>
				</table>
			</div>
			<div style="float: left; display: inline-block; width: 33%">
				<table>
					<tr>
						<td style="text-align: center"><img height="24px"
							width="24px"
							src="night/img/temperature.png" /></td>
					</tr>
					<tr>
						<td><div ng-style="{'color': temperature_alarm ? 'red' : 'silver'}" id="temperature">--- Deg.
								M</div></td>
					</tr>
				</table>
			</div>
		</div>
		<div id="remainingTimer" class="timer" ng-controller="TimeReservationCtrl" ng-init="last_minutes=false"	>
			<div class="modal hide fade" id="ReservationTimeModal">
				<div class="modal-header">
					<h3>{{'night.general.alert' | i18n}}</h3>
				</div>
				<div class="modal-body">
					<span class="regular_text">{{'night.general.expiration_time' | i18n}}</span>
				</div>
				<div class="modal-footer">
					<button class="btn btn-warning" data-dismiss="modal"
							ng-click="">{{'night.mount.close' | i18n}}</button>
				</div>
			</div>
			<span id="step2_panel" 
				data-content="{{'night.tutorial.step2' | i18n}}<hr class=&quot;tutorial_line&quot;><div style=&quot;text-align:center&quot;><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;prevTutorial()&quot;><i class=&quot;icon-large icon-step-backward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button><span style=&quot;font-size:1.4em;&quot>2 / 13</span><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;nextTutorial()&quot;><i class=&quot;icon-large icon-step-forward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button></div>"
				data-animation="yes"
				data-trigger="manual"
				data-placement="top"
				data-show="500"
				data-html="true"
				data-title="<strong><i class=&quot;icon-large icon-info-sign&quot;></i></strong><button type=&quot;button&quot; class=&quot;close close_tutorial&quot; onclick=&quot;$('#step2_panel').popover('hide');&quot;>&times;</button>">
				<span id="timer_minutes" ng-style="{color: (last_minutes && 'red') || 'silver'}">--</span>
				<span ng-style="{color: (last_minutes && 'red') || 'silver'}">:</span>
				<span id="timer_seconds" ng-style="{color: (last_minutes && 'red') || 'silver'}">--</span>
			</span>
		</div>
		<div ng-controller="DomeCtrl">
			<div class="modal hide fade" id="DomeModal">
				<div class="modal-header">
					<h3>{{'night.general.alert' | i18n}}</h3>
				</div>
				<div class="modal-body">
					<span class="regular_text">Dome is closed</span>
				</div>
				<div class="modal-footer">
					<button class="btn btn-warning" data-dismiss="modal"
							ng-click="">{{'night.mount.close' | i18n}}</button>
				</div>
			</div>
		</div>
		 
	</div>
	<div id="left_controls">
		<div id="surveillance_panel" ng-controller="GetCamerasCtrl" ng-init="hasSecondaryWebcam = false">
			<div style="margin-top: 80px;">			
				<div id="tutorial_surveillance" style="width: 100px; text-align: center;"
						data-content="{{'night.tutorial.step1' | i18n}}<hr class=&quot;tutorial_line&quot;><div style=&quot;text-align:center&quot;><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;prevTutorial()&quot;><i class=&quot;icon-large icon-step-backward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button><span style=&quot;font-size:1.4em;&quot>1 / 13</span><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;nextTutorial()&quot;><i class=&quot;icon-large icon-step-forward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button></div>"
						data-animation="yes"
						data-trigger="manual"
						data-placement="top"
						data-show="500"
						data-html="true"
						data-title="<strong><i class=&quot;icon-large icon-info-sign&quot;></i></strong><button type=&quot;button&quot; class=&quot;close close_tutorial&quot; onclick=&quot;$('#tutorial_surveillance').popover('hide');&quot;>&times;</button>">
					<span id="scam0_name" class="title">SCAM 0</span>
				</div>
				<div class="expand" style="z-index: 500;">
					<div class="positioner">
						<a class="slide" aria-haspopup="true"> <img id="scam0_img"
							src="night/img/white_noise.gif" />
						</a>
					</div>
				</div>
			</div>
			<div ng-show="hasSecondaryWebcam" style="margin-top: 80px;">
				<div style="width: 100px; text-align: center;">
					<span id="scam1_name" class="title">SCAM 1</span>
				</div>
				<div class="expand" style="z-index: 409;">
					<div class="positioner">
						<a class="slide" aria-haspopup="true"> <img id="scam1_img"
							src="night/img/white_noise.gif" />
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div id="right_controls">
		<div ng-controller="MountDevice" ng-init="mount_alarm=false;radec_invalid=false;mount_alarm_message='night.mount.messages.no_alarm';radec_message='night.coordinates_modal.title'">
			<div id="mount_target_panel">
				<div style="display: block;">
					<span class="title">{{'night.mount.title' | i18n}}</span> <span id="mount_budge"
						data-content="{{mount_alarm_message | i18n}}"
						data-animation="yes"
						data-trigger="click"
						data-placement="top"
						data-show="500"
						data-html="true"
						data-title="<strong>Alert</strong><button type=&quot;button&quot; id=&quot;close&quot; class=&quot;close&quot; onclick=&quot;$('#mount_budge').popover('hide');&quot;>&times;</button>"
						ng-style="{'opacity': mount_alarm ? 1 : 0.1}"
						class="badge badge-important">0</span>
	
				</div>
				<div id="mount_parameters">
					<div class="modal hide fade" id="CatalogModal">
						<div class="modal-header">
							<h3>Catalog</h3>
						</div>
						<div class="modal-body">
							<tabset> <tab heading="{{'night.mount.catalog.solar_tab' | i18n}}">
							<table cellspacing="10px">
								<tr>
									<td height="20px" class="catalog_title">{{'night.mount.catalog.mercury'
										| i18n}}</td>
									<td height="20px" class="catalog_title">{{'night.mount.catalog.venus'
										| i18n}}</td>
									<td height="20px" class="catalog_title">{{'night.mount.catalog.mars'
										| i18n}}</td>
									<td height="20px" class="catalog_title">{{'night.mount.catalog.jupiter'
										| i18n}}</td>
								</tr>
								<tr>
									<td height="100px"><div
											ng-class="(target_selected == 'mercury') ?  'action_component_enabled': 'action_component'"
											ng-click="selectTarget('mercury')">
											<img
												src="night/img/catalog/mercury.jpg"
												height="100px" />
										</div></td>
									<td height="100px"><div
											ng-class="(target_selected == 'venus') ?  'action_component_enabled': 'action_component'"
											ng-click="selectTarget('venus')">
											<img src="night/img/catalog/venus.jpg"
												height="100px" />
										</div></td>
									<td height="100px"><div
											ng-class="(target_selected == 'mars') ?  'action_component_enabled': 'action_component'"
											ng-click="selectTarget('mars')">
											<img src="night/img/catalog/mars.jpg"
												height="100px" />
										</div></td>
									<td height="100px"><div
											ng-class="(target_selected == 'jupiter') ?  'action_component_enabled': 'action_component'"
											ng-click="selectTarget('jupiter')">
											<img
												src="night/img/catalog/jupiter.jpg"
												height="100px" />
										</div></td>
								</tr>
								<tr>
									<td height="20px" class="catalog_title">{{'night.mount.catalog.saturn'
										| i18n}}</td>
									<td height="20px" class="catalog_title">{{'night.mount.catalog.neptune'
										| i18n}}</td>
									<td height="20px" class="catalog_title">{{'night.mount.catalog.uranus'
										| i18n}}</td>
									<td height="20px" class="catalog_title">{{'night.mount.catalog.skymap'
										| i18n}}</td>
								</tr>
								<tr>
									<td height="20px"><div
											ng-class="(target_selected == 'saturn') ?  'action_component_enabled': 'action_component'"
											ng-click="selectTarget('saturn')">
											<img
												src="night/img/catalog/saturn.jpg"
												height="100px" />
										</div></td>
									<td height="20px"><div
											ng-class="(target_selected == 'neptune') ?  'action_component_enabled': 'action_component'"
											ng-click="selectTarget('neptune')">
											<img
												src="night/img/catalog/neptune.jpg"
												height="100px" />
										</div></td>
									<td height="20px"><div
											ng-class="(target_selected == 'uranus') ?  'action_component_enabled': 'action_component'"
											ng-click="selectTarget('uranus')">
											<img
												src="night/img/catalog/uranus.jpg"
												height="100px" />
										</div></td>
									<td height="20px">
										<div class="action_component" style="text-align:center">
											<a href="http://www.fourmilab.ch/cgi-bin/Yoursky?date=0&utc=1998%2F02%2F06+12%3A42%3A40&jd=2450851.02963&lat={{latitude}}&ns={{latitudeSign}}&lon={{longitude}}&ew={{longitudeSign}}&moonp=on&deep=on&deepm=6.5&consto=on&constn=on&limag=5.5&starnm=2.0&starbm=2.5&imgsize=900&fontscale=1.0&scheme=3&elements=" target="_blank">
												<img src="night/img/catalog/skymap.jpg"	height="100px" />
											</a>
										</div>
									</td>
									
								</tr>
							</table>

							</tab> 
							</tabset>
							Source: wikipedia
						</div>
						<div class="modal-footer">
							<button class="btn btn-primary" ng-click="setTargetName()">{{'night.mount.apply'
								| i18n}}</button>
							<button class="btn btn-warning" data-dismiss="modal"
								ng-click="cancel()">{{'night.mount.close' | i18n}}</button>
						</div>
					</div>
					<div class="modal hide fade" id="CoordinatesModal">
						<div class="modal-header">
							<h3>{{'night.coordinates_modal.title' | i18n}}</h3>
						</div>
						<div class="modal-body">
							<span style="font-size:1.1em">{{'night.coordinates_modal.introduction' | i18n}}</span><br>
							<span style="font-size:0.9em;margin-left:2em;color:red">{{'night.coordinates_modal.ra_info' | i18n}}</span><br>
							<span style="font-size:0.9em;margin-left:2em;color:red">{{'night.coordinates_modal.dec_info' | i18n}}</span><br><br>
							<table>
								<tr>
									<td>{{'night.coordinates_modal.right_ascension' | i18n}}</td>
									<td>
										&nbsp;&nbsp;
										<input 	ng-model="rah_sel" 
												ng-init="rah_sel = 0;rah_valid=true" 
												ng-style="{'border-color': rah_valid ? '#FFFFFF' : '#FF0000'}" 
												ng-focus="rah_valid=true;rah_sel=''" 
												maxlength="2" 
												class="coordinates_no_decimal"></input>&nbsp;h&nbsp;
										<input 	ng-model="ram_sel" 
												ng-init="ram_sel = 0;ram_valid=true" 
												ng-style="{'border-color': ram_valid ? '#FFFFFF' : '#FF0000'}" 
												ng-focus="ram_valid=true;ram_sel=''" 
												maxlength="2" 
												class="coordinates_no_decimal"></input>&nbsp;m&nbsp;
										<input 	ng-model="ras_sel" 
												ng-init="ras_sel = 0.0;ras_valid=true" 
												ng-style="{'border-color': ras_valid ? '#FFFFFF' : '#FF0000'}" 
												ng-focus="ras_valid=true;ras_sel=''" 
												maxlength="4" 
												class="coordinates_one_decimal"></input>&nbsp;s
									</td>
								</tr>
								<tr>
									<td>{{'night.coordinates_modal.declination' | i18n}}</td>
									<td>
										&nbsp;&nbsp;
										<input 	ng-model="decg_sel" 
												ng-init="decg_sel = 0;decg_valid=true"
												ng-style="{'border-color': decg_valid ? '#FFFFFF' : '#FF0000'}"
												ng-focus="decg_valid=true;decg_sel=''" 
												maxlength="3" 
												class="coordinates_no_decimal"></input>&nbsp;º&nbsp;
										<input 	ng-model="decm_sel" 
												ng-init="decm_sel = 0;decm_valid=true" 
												ng-style="{'border-color': decm_valid ? '#FFFFFF' : '#FF0000'}"
												ng-focus="decm_valid=true;decm_sel=''" 
												maxlength="2" 
												class="coordinates_no_decimal"></input>&nbsp;'&nbsp;
										<input 	ng-model="decs_sel" 
												ng-init="decs_sel = 0;decs_valid=true"
												ng-style="{'border-color': decs_valid ? '#FFFFFF' : '#FF0000'}"
												ng-focus="decs_valid=true;dec_sel=''"  
												maxlength="2" 
												class="coordinates_no_decimal"></input>&nbsp;''
									</td>
								</tr>
							</table>
							<br><br>
							<div ng-if="radec_invalid" class="alert alert-danger alert-dismissable">
								{{radec_message | i18n}}
							</div>
						</div>
						<div class="modal-footer">
							<button class="btn btn-primary" ng-click="setCoordinates()">{{'night.mount.apply'
								| i18n}}</button>
							<button class="btn btn-warning" data-dismiss="modal"
								ng-click="cancel()">{{'night.mount.close' | i18n}}</button>
						</div>
					</div>
					<table id="ra_table" style="position: relative; left: 12px; border-spacing: 5px;margin-bottom:10px;">
						<tr>
							<td id="ra_coordinates">
								{{rah}} : {{ram}} : {{ras}}
							</td>
							<td>
							
								<div id="coordinates_button" class="action_component" style="position:absolute;top:10px;right:-30px"
										data-content="{{'night.tutorial.step3' | i18n}}<hr class=&quot;tutorial_line&quot;><div style=&quot;text-align:center&quot;><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;prevTutorial()&quot;><i class=&quot;icon-large icon-step-backward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button><span style=&quot;font-size:1.4em;&quot>3 / 13</span><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;nextTutorial()&quot;><i class=&quot;icon-large icon-step-forward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button></div>"
										data-animation="yes"
										data-trigger="manual"
										data-placement="right"
										data-show="500"
										data-html="true"
										data-title="<strong><i class=&quot;icon-large icon-info-sign&quot;></i></strong><button type=&quot;button&quot; class=&quot;close close_tutorial&quot; onclick=&quot;$('#coordinates_button').popover('hide');&quot;>&times;</button>">
									<img src="night/img/compass.png" 
										width="24px" height="24px" ng-click="open_coordinates()"/>
								</div>
							</td>
						</tr>
						<tr>
							<td id="dec_coordinates">
								{{decg}} : {{decm}} : {{decs}}
							</td>
						</tr>
						<tr>
							<td>
								<div id="tags_tutorial"
										data-content="{{'night.tutorial.step4' | i18n}}<hr class=&quot;tutorial_line&quot;><div style=&quot;text-align:center&quot;><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;prevTutorial()&quot;><i class=&quot;icon-large icon-step-backward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button><span style=&quot;font-size:1.4em;&quot>4 / 13</span><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;nextTutorial()&quot;><i class=&quot;icon-large icon-step-forward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button></div>"
										data-animation="yes"
										data-trigger="manual"
										data-placement="left"
										data-show="500"
										data-html="true"
										data-title="<strong><i class=&quot;icon-large icon-info-sign&quot;></i></strong><button type=&quot;button&quot; class=&quot;close close_tutorial&quot; onclick=&quot;$('#tags_tutorial').popover('hide');&quot;>&times;</button>">
									<input id="tags" class="input_text"
										ng-model="target_name" placeholder="{{'night.mount.object' | i18n}}">
									</input>
								</div>
							</td>
							<td>
								<div id="catalog_button" class="action_component" style="position:absolute;top:45px;right:-35px"
										data-content="{{'night.tutorial.step5' | i18n}}<hr class=&quot;tutorial_line&quot;><div style=&quot;text-align:center&quot;><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;prevTutorial()&quot;><i class=&quot;icon-large icon-step-backward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button><span style=&quot;font-size:1.4em;&quot>5 / 13</span><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;nextTutorial()&quot;><i class=&quot;icon-large icon-step-forward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button></div>"
										data-animation="yes"
										data-trigger="manual"
										data-placement="right"
										data-show="500"
										data-html="true"
										data-title="<strong><i class=&quot;icon-large icon-info-sign&quot;></i></strong><button type=&quot;button&quot; class=&quot;close close_tutorial&quot; onclick=&quot;$('#catalog_button').popover('hide');&quot;>&times;</button>">									
									<img src="night/img/catalog.png"
										width="32px" height="32px" ng-click="open_catalog()" />
								</div>
							</td>
						</tr>
					</table>
					
					<div align="center" class="status" ng-model="status_mount"
					ng-init="status_mount='night.mount.status.ready'" style="position:relative;left:12px;width:85px">
					<span id="mount_status" class="status_text">{{status_mount |
						i18n}}</span>
					</div>
					<div id="mount_buttons_panel" style="position:absolute;bottom:-20px;right:0px"
							data-content="{{'night.tutorial.step6' | i18n}}<hr class=&quot;tutorial_line&quot;><div style=&quot;text-align:center&quot;><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;prevTutorial()&quot;><i class=&quot;icon-large icon-step-backward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button><span style=&quot;font-size:1.4em;&quot>6 / 13</span><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;nextTutorial()&quot;><i class=&quot;icon-large icon-step-forward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button></div>"
							data-animation="yes"
							data-trigger="manual"
							data-placement="right"
							data-show="500"
							data-html="true"
							data-title="<strong><i class=&quot;icon-large icon-info-sign&quot;></i></strong><button type=&quot;button&quot; class=&quot;close close_tutorial&quot; onclick=&quot;$('#mount_buttons_panel').popover('hide');&quot;>&times;</button>">									
						<img src="night/img/telescope.png"
							width="40px" height="40px" ng-click="go()"
							tooltip="Move telescope" />
					</div>
				</div>
			</div>
			<div id="hand_controller_pad"
				style="position: absolute; top: -40px; left: 55px;"
				tooltip="{{'night.mount.messages.relative_move' | i18n}}">
				<table>
					<tr>
						<td></td>
						<td>
							<div class="arrow_up"
								ng-class="hasMove ? 'component_enabled' : 'component_disabled'" ng-click="hasMove && move_north()"></div>
						</td>
						<td></td>
					</tr>
					<tr>
						<td>
							<div class="arrow_left"
								ng-class="hasMove ? 'component_enabled' : 'component_disabled'" ng-click="hasMove && move_west()"></div>
						</td>
						<td></td>
						<td>
							<div class="arrow_right"
								ng-class="hasMove ? 'component_enabled' : 'component_disabled'" ng-click="hasMove && move_east()"></div>
						</td>
					</tr>
					<tr>
						<td></td>
						<td>
							<div class="arrow_down"
								ng-class="hasMove ? 'component_enabled' : 'component_disabled'" ng-click="hasMove && move_south()"></div>
						</td>
						<td></td>
					</tr>
				</table>
			</div>
		</div>
		<div id="main_ccd_panel" ng-controller="CcdDevice"
			ng-init="ccd_alarm=false;ccd_alarm_message='night.ccd.messages.no_alarm'">
			<div style="display: block;">
				<span class="title">CCD</span> <span id="ccd_budge"
					data-content="{{ccd_alarm_message | i18n}}"
					data-animation="yes"
					data-trigger="click"
					data-placement="top"
					data-show="500"
					data-html="true"
					data-title="<strong>Alert</strong><button type=&quot;button&quot; id=&quot;close&quot; class=&quot;close&quot; onclick=&quot;$('#ccd_budge').popover('hide');&quot;>&times;</button>"
					ng-style="{'opacity': ccd_alarm ? 1 : 0.1}"
					class="badge badge-important">0</span>

			</div>
			<div id="main_ccd_parameters" ng-model="isExposing"
				ng-init="isExposing=false">

				<div>
					<div id="exposure_slider" style="width:80px;" tooltip="{{'night.ccd.tooltip.exposure_time' | i18n}}"></div>
					<div id="exposure_time_div" style="position:absolute;top:-6px;right:40px;width:0px;"
							data-content="{{'night.tutorial.step10' | i18n}}<hr class=&quot;tutorial_line&quot;><div style=&quot;text-align:center&quot;><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;prevTutorial()&quot;><i class=&quot;icon-large icon-step-backward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button><span style=&quot;font-size:1.4em;&quot>10 / 13</span><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;nextTutorial()&quot;><i class=&quot;icon-large icon-step-forward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button></div>"
							data-animation="yes"
							data-trigger="manual"
							data-placement="top"
							data-show="500"
							data-html="true"
							data-title="<strong><i class=&quot;icon-large icon-info-sign&quot;></i></strong><button type=&quot;button&quot; class=&quot;close close_tutorial&quot; onclick=&quot;$('#exposure_time_div').popover('hide');&quot;>&times;</button>">									
						<input type="text" id="exposure_time" ng-disabled="!hasExposition[ccd_order]" ng-blur="check_exposure_time()" style="width:30px;font-size:10px;font-weight:bold;height:10px;margin:0px;"></input>
					</div>
				</div>
				<div ng-show="hasGain[ccd_order]" style="margin-top:20px;">
					<div id="gain_slider" style="width:80px;" tooltip="{{'night.ccd.tooltip.gain' | i18n}}"></div>
					<div id="gain_div" style="position:absolute;top:20px;right:-5px"
							data-content="{{'night.tutorial.step11' | i18n}}<hr class=&quot;tutorial_line&quot;><div style=&quot;text-align:center&quot;><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;prevTutorial()&quot;><i class=&quot;icon-large icon-step-backward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button><span style=&quot;font-size:1.4em;&quot>11 / 13</span><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;nextTutorial()&quot;><i class=&quot;icon-large icon-step-forward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button></div>"
							data-animation="yes"
							data-trigger="manual"
							data-placement="top"
							data-show="500"
							data-html="true"
							data-title="<strong><i class=&quot;icon-large icon-info-sign&quot;></i></strong><button type=&quot;button&quot; class=&quot;close close_tutorial&quot; onclick=&quot;$('#gain_div').popover('hide');&quot;>&times;</button>">																
						<input type="text" id="gain" ng-blur="check_gain()" style="width:30px;font-size:10px;font-weight:bold;height:10px;margin:0px;"></input>
					</div>
				</div>
				<div style="margin-top:8px;margin-bottom:4px" ng-show="hasFilterWheel[ccd_order]">
					<select id="filter_selector" class="selector"
							ng-model="filter" ng-change="setFilter()"
							ng-disabled="!hasFilterWheel[ccd_order]"
							ng-options="item for item in filters_0"
							data-content="{{'night.tutorial.step9' | i18n}}<hr class=&quot;tutorial_line&quot;><div style=&quot;text-align:center&quot;><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;prevTutorial()&quot;><i class=&quot;icon-large icon-step-backward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button><span style=&quot;font-size:1.4em;&quot>9 / 13</span><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;nextTutorial()&quot;><i class=&quot;icon-large icon-step-forward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button></div>"
							data-animation="yes"
							data-trigger="manual"
							data-placement="right"
							data-show="500"
							data-html="true"
							data-title="<strong><i class=&quot;icon-large icon-info-sign&quot;></i></strong><button type=&quot;button&quot; class=&quot;close close_tutorial&quot; onclick=&quot;$('#filter_selector').popover('hide');&quot;>&times;</button>">																
					</select>
				</div>
		
				<div align="center" class="status" ng-model="status_main_ccd"
					ng-init="status_main_ccd='night.ccd.status.ready'" style="position:absolute;top:80px;width:85px">
					<span id="ccd_status" class="status_text"
						ng-class="{'mess-info':isExposing}">{{status_main_ccd |
						i18n}}</span>
				</div>
				<div id="main_ccd_buttons_panel" style="position:absolute;top:100px;width:85px;" align="center">
					<div style="display:inline"
						ng-class="hasVideoMode[0] ? (isExposing && 'ccd_button_disabled' || (isVideo && 'ccd_button_selected' || 'ccd_button')) : 'ccd_button_disabled'"
						ng-click="hasVideoMode[0] && !isExposing && video()">
						<img src="night/img/video.png" width="40px" height="40px" 
								tooltip="{{'night.ccd.messages.video_text' | i18n}}" />
					</div>
					<div id="exposure_button" style="position:relative;top:-70px;left:-120px"
						ng-class="isExposing ? 'ccd_button_selected' : 'ccd_button'"
						ng-click="!isExposing && expose()"
						data-content="{{'night.tutorial.step12' | i18n}}<hr class=&quot;tutorial_line&quot;><div style=&quot;text-align:center&quot;><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;prevTutorial()&quot;><i class=&quot;icon-large icon-step-backward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button><span style=&quot;font-size:1.4em;&quot>12 / 13</span><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;nextTutorial()&quot;><i class=&quot;icon-large icon-step-forward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button></div>"
						data-animation="yes"
						data-trigger="manual"
						data-placement="right"
						data-show="500"
						data-html="true"
						data-title="<strong><i class=&quot;icon-large icon-info-sign&quot;></i></strong><button type=&quot;button&quot; class=&quot;close close_tutorial&quot; onclick=&quot;$('#exposure_button').popover('hide');&quot;>&times;</button>">																
						<img src="night/img/ccd.png" width="60px" height="60px" 
								tooltip="{{'night.ccd.messages.expose_text' | i18n}}" />
					</div>	
				</div>
			</div>
			<div id="ccd_button"
				class="action_component"
				ng-show="hasCcd[1]"
				ng-click="setOrder()"
				style="position: absolute; width: 54px; top: 120px; left: -600px"
				data-content="{{'night.tutorial.step8' | i18n}}<hr class=&quot;tutorial_line&quot;><div style=&quot;text-align:center&quot;><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;prevTutorial()&quot;><i class=&quot;icon-large icon-step-backward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button><span style=&quot;font-size:1.4em;&quot>8 / 13</span><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;nextTutorial()&quot;><i class=&quot;icon-large icon-step-forward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button></div>"
				data-animation="yes"
				data-trigger="manual"
				data-placement="right"
				data-show="500"
				data-html="true"
				data-title="<strong><i class=&quot;icon-large icon-info-sign&quot;></i></strong><button type=&quot;button&quot; class=&quot;close close_tutorial&quot; onclick=&quot;$('#ccd_button').popover('hide');&quot;>&times;</button>">
				<img src="night/img/eye.png" />
			</div>
				<div id="ccd_button_message"
						style="position: absolute; width: 54px; top: 120px; left: -600px"
						ng-class="!hasCcd[1] ? ccd_button_disabled" 
						data-content="{{'night.ccd.messages.info_change_ccd' | i18n}}"
						data-animation="yes"
						data-trigger="manual"
						data-placement="top"
						data-show="500"
						data-html="true"
						data-title="<strong><i class=&quot;icon-large icon-info-sign&quot;></i></strong><button type=&quot;button&quot; class=&quot;close close_tutorial&quot; onclick=&quot;$('#ccd_button_message').popover('hide');&quot;>&times;</button>">													
				</div>
		</div>
	</div>

	<!-- <div style="width:500px;position:absolute;top:80px;left:270px;"> -->



	<!-- </div>  -->



	<div ng-controller="SolarImagesCtrl" class="span9"
		style="height: 100px; cursor: default;position:absolute;top:950px">
		<div align="center" id="album_title"
			data-content="{{'night.tutorial.step13' | i18n}}<hr class=&quot;tutorial_line&quot;><div style=&quot;text-align:center&quot;><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;prevTutorial()&quot;><i class=&quot;icon-large icon-step-backward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button><span style=&quot;font-size:1.4em;&quot>13 / 13</span><button type=&quot;button&quot; class=&quot;title_tutorial next_button&quot; onclick=&quot;nextTutorial()&quot;><i class=&quot;icon-large icon-step-forward icon-white&quot; style=&quot;vertical-align:baseline&quot;></i></button></div>"
			data-animation="yes"
			data-trigger="manual"
			data-placement="top"
			data-show="500"
			data-html="true"
			data-title="<strong><i class=&quot;icon-large icon-info-sign&quot;></i></strong><button type=&quot;button&quot; class=&quot;close close_tutorial&quot; onclick=&quot;$('#album_title').popover('hide');&quot;>&times;</button>">																		
			<h5 class="label-info title_night" style="margin-top: 0px">Álbum</h5>
		</div>
		<div id="album_panel"
			style="float: left; cursor: pointer; width: 18px; margin-top: 12px; margin-left: 12px; height: 36px">
			<img ng-show="currentIndex > 0" class="animate-show bright-button"
				ng-src="night/img/left.png" ng-click="nextLeft()">
		</div>
		<div
			style="float: left; position: relative; overflow: hidden; width: 616px; height: 70px; margin-left: 15px; margin-right: 15px;"
			class="span8 animate-show">
			<div class="images" ng-style="sliderStyle" id="thumbnails"
				style="width: 850px; position: absolute;">
				<div class="image-thumb" style="margin-top: 2px"
					ng-show="thumbsReady" ng-repeat="image in images | filter:filterFn"
					ng-animate="{enter: 'animate-enter', leave: 'animate-leave'}">
					<div style="position: relative">
						<a> <img ng-click="open(image)"
							style="border-radius: 3px; cursor: pointer" class="bright-button"
							ng-src="{{image.jpg}}" alt="">
						</a>
						<div style="opacity: 1.0; position: absolute; top: 65%; left: 5%">
							{{image.order}}</div>
					</div>
				</div>
			</div>
		</div>
		<div
			style="float: left; cursor: pointer; width: 18px; margin-top: 12px; height: 36px">
			<img ng-show="currentIndex + 6 < images.length"
				class="animate-show bright-button"
				ng-src="night/img/right.png" ng-click="nextRight()">
		</div>
		<div>
			<script type="text/ng-template" id="myModalContent.html">
						<div>
    	    				<div class="modal-header">
								<p class="pull-left">{{'night.album.taken'  | i18n}} {{image.date | utc | date:short}} UT.</p>
								<a href="https://twitter.com/share" class="twitter-share-button" data-url="{{image.jpg}}" data-text="{{'night.twitter.send_image' | i18n}}" data-via="GloriaProject">Tweet</a>
								<a class="btn btn-primary" download="image.jpg" ng-href="{{image.jpg + '&download=true'}}">JPEG</a>
								<a class="btn btn-warning" download="image.jpg" ng-href="{{image.fits + '&download=true'}}">FITS</a>
        					</div>
        					<div class="modal-body" style="max-height: 1000px;">
	            				<img ng-src="{{image.jpg}}">        			
        					</div>
        					<div class="modal-footer" style="background-color: rgba(0, 0, 0, 0.6); border: none">
								<h3>Image {{image.order}}</h3>		
        					</div>
							<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
						</div>
   			 		</script>
		</div>
				
			<div class="modal hide fade" id="TutorialModal" style="width:740px">
				<div class="modal-header">
					<h3>{{'night.general.information' | i18n}}</h3>
				</div>
				<div class="modal-body" style="background-color:white;height:700px">
				<!-- 
					<center>
						<object width="420" height="315"><param name="movie" value="//www.youtube.com/v/DqOHZB1hsuM?version=3&amp;hl=en_US&amp;rel=0"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="//www.youtube.com/v/DqOHZB1hsuM?version=3&amp;hl=en_US&amp;rel=0" type="application/x-shockwave-flash" width="420" height="315" allowscriptaccess="always" allowfullscreen="true"></embed></object>
					</center>
					 -->
					 <iframe width="700px" height="600px" src="http://www.fourmilab.ch/cgi-bin/Yoursky?date=0&utc=1998%2F02%2F06+12%3A42%3A40&jd=2450851.02963&lat=37.261&ns=North&lon=6.945&ew=West&coords=on&moonp=on&deep=on&deepm=10&consto=on&constn=on&constb=on&limag=5.5&starn=on&starnm=2.0&starb=on&starbm=2.5&imgsize=640&fontscale=1.0&scheme=0&elements="></iframe>
				</div>
				<div class="modal-footer">
					<button class="btn btn-warning" data-dismiss="modal"
							ng-click="">{{'night.mount.close' | i18n}}</button>
				</div>
			</div>
		
	</div>
<script>
	 
	 var gainChange = false;
	 
	 
	$("#focuser_slider").slider({
		range : "max",
		min : -1000,
		max : 1000,
		value : 0,
		slide : function(event, ui) {
			$("#focuserPosition").text(ui.value);
			rotateOriginalDegree = (ui.value * 18) / 100;
			var rotate = 'rotate(' + rotateOriginalDegree + 'deg)';
			$('#focus_marker').css({
				'-moz-transform' : rotate,
				'transform' : rotate,
				'-webkit-transform' : rotate,
				'-ms-transform' : rotate
			});
		}
	});
	$("#exposure_slider").slider({
		range : "max",
		min : 0,
		max : 10,
		step:0.001,
		value : 0,
		disabled:false,
		slide : function(event, ui) {
			$("#exposure_time").val(ui.value);
		}
	});
	$("#gain_slider").slider({
		range : "max",
		min : 260,
		max : 1023,
		value : 0,
		disabled:false,
		slide : function(event, ui) {
			$("#gain").val(ui.value);
			
		},
		change: function(event,ui){
			gainChange = true;
		}
	});
	
	var tutorial_step = 1;
	var tutorial_filter_wheel = false;
	var tutorial_gain = false;
	var tutorial_hasCcds = false;
	
	function nextTutorial(){
		if (tutorial_step<13){
			hideTutorial();
			tutorial_step++;
			if ((tutorial_step == 8) && (!tutorial_hasCcds)){
				tutorial_step++;	
			}
			if ((tutorial_step == 9) && (!tutorial_filter_wheel)){
				tutorial_step++;	
			}
			if ((tutorial_step == 11) && (!tutorial_gain)){
				tutorial_step++;
			}
			showTutorial();
		}
	}
	
	function prevTutorial(){
		if (tutorial_step>1){
			hideTutorial();
			tutorial_step--;
			if ((tutorial_step == 11) && (!tutorial_gain)){
				tutorial_step--;
			}
			if ((tutorial_step == 9) && (!tutorial_filter_wheel)){
				tutorial_step--;
			}
			if ((tutorial_step == 8) && (!tutorial_hasCcds)){
				tutorial_step--;	
			}
			showTutorial();					
		}
	}
	
	function showTutorial(){
		if (tutorial_step == 1){
			$('#tutorial_surveillance').popover('show')
		} else if (tutorial_step == 2){
			$("#step2_panel").popover('show');
		} else if (tutorial_step == 3){
			$("#coordinates_button").popover('show');
		} else if (tutorial_step ==4){
			$("#tags_tutorial").popover('show');
		} else if (tutorial_step ==5){
			$("#catalog_button").popover('show');
		} else if (tutorial_step == 6){
			$("#mount_buttons_panel").popover('show');
		} else if (tutorial_step == 7){
			$("#focus_marker").popover('show');
		} else if (tutorial_step == 8){
			$('#ccd_button').popover('show');
		} else if (tutorial_step == 9){
			$('#filter_selector').popover('show');
		} else if (tutorial_step == 10){
			$('#exposure_time_div').popover('show')
		} else if (tutorial_step == 11){
			$('#gain_div').popover('show');
		} else if (tutorial_step == 12){
			$('#exposure_button').popover('show');
		} else if (tutorial_step == 13){
			$('#album_title').popover('show');
		}	
	}
	
	function hideTutorial(){
		if (tutorial_step == 1){
			$('#tutorial_surveillance').popover('hide')
		} else if (tutorial_step == 2){
			$("#step2_panel").popover('hide');
		} else if (tutorial_step == 3){
			$("#coordinates_button").popover('hide');
		} else if (tutorial_step == 4){
			$("#tags_tutorial").popover('hide');
		} else if (tutorial_step == 5){
			$("#catalog_button").popover('hide');
		} else if (tutorial_step == 6){
			$("#mount_buttons_panel").popover('hide');
		} else if (tutorial_step == 7){
			$("#focus_marker").popover('hide');
		} else if (tutorial_step == 8){
			$('#ccd_button').popover('hide');
		} else if (tutorial_step == 9){
			$('#filter_selector').popover('hide');
		} else if (tutorial_step == 10){
			$('#exposure_time_div').popover('hide')
		} else if (tutorial_step == 11){
			$('#gain_div').popover('hide');
		} else if (tutorial_step == 12){
			$('#exposure_button').popover('hide');
		} else if (tutorial_step == 13){
			$('#album_title').popover('hide');
		}		
	}
</script>
